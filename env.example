# ============================================
# NUGGETS APPLICATION - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ============================================

# ---------------------------
# DATABASE (REQUIRED)
# ---------------------------
# MongoDB connection string (MongoDB Atlas recommended for production)
# Format: mongodb+srv://username:password@cluster.mongodb.net/nuggets
MONGO_URI=mongodb+srv://your-username:your-password@your-cluster.mongodb.net/nuggets?retryWrites=true&w=majority

# Alternative name (either MONGO_URI or MONGODB_URI works)
# MONGODB_URI=

# ---------------------------
# AUTHENTICATION (REQUIRED)
# ---------------------------
# JWT secret key for signing tokens
# SECURITY: MUST be at least 32 characters long
# Generate a secure secret with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=CHANGE_ME_generate_a_secure_32_plus_character_secret

# ---------------------------
# SERVER CONFIGURATION (REQUIRED)
# ---------------------------
# Environment mode: development, production, or test
NODE_ENV=production

# Server port (default: 5000)
PORT=5000

# ---------------------------
# CORS / FRONTEND URL (REQUIRED IN PRODUCTION)
# ---------------------------
# Your frontend domain - REQUIRED when NODE_ENV=production
# This restricts CORS to only allow requests from your frontend
# Examples:
#   - https://nuggets.yourdomain.com
#   - https://your-app.vercel.app
#   - https://your-app.railway.app
FRONTEND_URL=https://your-production-domain.com

# ---------------------------
# ERROR TRACKING (RECOMMENDED)
# ---------------------------
# Sentry DSN for error tracking and monitoring
# Get your DSN from: https://sentry.io
# Leave empty to disable Sentry
SENTRY_DSN=

# Enable Sentry in development mode (default: false)
# Set to "true" to enable Sentry during local development
SENTRY_ENABLE_DEV=false

# ---------------------------
# REDIS (OPTIONAL - FOR DISTRIBUTED RATE LIMITING)
# ---------------------------
# Redis connection URL for distributed rate limiting across multiple instances
# Required for multi-instance deployments (Railway auto-scaling, multiple servers)
# Optional for single-instance deployments (in-memory rate limiting will be used)
# 
# Examples:
#   - Local: redis://localhost:6379
#   - Docker: redis://redis:6379
#   - Railway: redis://default:password@redis.railway.internal:6379
#   - Redis Cloud: redis://default:password@redis-12345.c1.us-east-1-1.ec2.cloud.redislabs.com:12345
#   - Upstash: redis://default:password@usw1-xxx.upstash.io:6379
#
# Leave empty to use in-memory rate limiting (works for single-instance deployments)
REDIS_URL=

# ---------------------------
# AI FEATURES (OPTIONAL)
# ---------------------------
# Google Gemini API keys for AI-powered features (summarization, etc.)
# Get API keys from: https://makersuite.google.com/app/apikey
# Supports multiple keys (comma-separated) for load balancing and rate limit handling
# Example: GEMINI_API_KEYS=key1,key2,key3
GEMINI_API_KEYS=

# ---------------------------
# FRONTEND API CONFIGURATION (OPTIONAL)
# ---------------------------
# Frontend API base URL for production builds
# Only needed if deploying frontend separately from backend
# 
# In development: Leave empty to use Vite proxy (/api â†’ localhost:5000)
# In production: Set to your backend API URL (the /api suffix will be added automatically)
#
# Examples:
#   - https://api.yourdomain.com (will be normalized to https://api.yourdomain.com/api)
#   - https://api.yourdomain.com/api (explicit - also works)
#   - Leave empty in development (uses relative /api with proxy)
#
# NOTE: The code automatically ensures /api suffix is present, but including it explicitly is clearer
VITE_API_URL=

# ---------------------------
# DEPLOYMENT NOTES
# ---------------------------
# 1. Copy this file to .env: cp env.example .env
# 2. Fill in all REQUIRED values
# 3. Generate a secure JWT_SECRET (see command above)
# 4. Set FRONTEND_URL to your actual production domain
# 5. Configure MongoDB Atlas for production use
# 6. (Recommended) Set up Sentry for error monitoring
# 7. (Optional) Set VITE_API_URL if deploying frontend separately





